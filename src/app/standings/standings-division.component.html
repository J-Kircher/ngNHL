<div *ngIf="!loading" class="division" [ngClass]="getClass()">
  {{division}}
  <mat-table [dataSource]="dataSource" matSort>
    <!-- Team Column -->
    <ng-container matColumnDef="team">
      <mat-header-cell *matHeaderCellDef></mat-header-cell>
      <mat-cell *matCellDef="let team">
        <img src="./assets/images/{{team.abbrev}}.png" class="logo">
        <div fxHide.lt-sm fxLayout="column" fxLayoutAlign="center start">
          <span class="team-city">{{team.city}}</span>
          <span class="team-name">{{team.name}}</span>
        </div>
      </mat-cell>
    </ng-container>

    <!-- Wins Column -->
    <ng-container matColumnDef="wins">
      <mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition="before"> W </mat-header-cell>
      <mat-cell *matCellDef="let team"> {{team.wins}} </mat-cell>
    </ng-container>

    <!-- Losses Column -->
    <ng-container matColumnDef="losses">
      <mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition="before"> L </mat-header-cell>
      <mat-cell *matCellDef="let team"> {{team.losses}} </mat-cell>
    </ng-container>

    <!-- OT Losses Column -->
    <ng-container matColumnDef="otl">
      <mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition="before"> OTL </mat-header-cell>
      <mat-cell *matCellDef="let team"> {{team.otl}} </mat-cell>
    </ng-container>

    <!-- Points Column -->
    <ng-container matColumnDef="points">
      <mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition="before"> Pts </mat-header-cell>
      <mat-cell *matCellDef="let team"> {{team.points}} </mat-cell>
    </ng-container>

    <!-- Total Column -->
    <ng-container matColumnDef="total">
      <mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition="before"> Total </mat-header-cell>
      <mat-cell *matCellDef="let team"> {{team.total}} </mat-cell>
    </ng-container>

    <!-- Goals For Column -->
    <ng-container matColumnDef="gf">
      <mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition="before"> GF </mat-header-cell>
      <mat-cell *matCellDef="let team"> {{team.gf}} </mat-cell>
    </ng-container>

    <!-- Goals Against Column -->
    <ng-container matColumnDef="ga">
      <mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition="before"> GA </mat-header-cell>
      <mat-cell *matCellDef="let team"> {{team.ga}} </mat-cell>
    </ng-container>

    <!-- Home Record -->
    <ng-container matColumnDef="homewins">
      <mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition="before"> Home </mat-header-cell>
      <mat-cell *matCellDef="let team"> {{team.homewins}}-{{team.homelosses}} </mat-cell>
    </ng-container>

    <!-- Visit Record -->
    <ng-container matColumnDef="visitwins">
      <mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition="before"> Away </mat-header-cell>
      <mat-cell *matCellDef="let team"> {{team.visitwins}}-{{team.visitlosses}} </mat-cell>
    </ng-container>

    <!-- Div Record -->
    <ng-container matColumnDef="divwins">
      <mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition="before"> Div </mat-header-cell>
      <mat-cell *matCellDef="let team"> {{team.divwins}}-{{team.divlosses}} </mat-cell>
    </ng-container>

    <!-- Conf Record -->
    <ng-container matColumnDef="confwins">
      <mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition="before"> {{division.indexOf('West') >= 0 ? 'WEST' : 'EAST'}} </mat-header-cell>
      <mat-cell *matCellDef="let team"> {{team.confwins}}-{{team.conflosses}} </mat-cell>
    </ng-container>

    <!-- Other Record -->
    <ng-container matColumnDef="othwins">
      <mat-header-cell *matHeaderCellDef mat-sort-header arrowPosition="before"> {{division.indexOf('East') >= 0 ? 'WEST' : 'EAST'}} </mat-header-cell>
      <mat-cell *matCellDef="let team"> {{team.othwins}}-{{team.othlosses}} </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns;" (click)="showTeam(row.abbrev)"></mat-row>
  </mat-table>
</div>

<mat-card class="loading-well" *ngIf="loading">
  <div class="loading-image"><img src="./assets/images/loading.gif" height="40px"></div>
  <div class="loading-font">&nbsp; Loading Standings &hellip;</div>
</mat-card>
